"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./option/index.js"),t=require("./option/init.js");function i(n){n.options.forEach((function(t){var i=n.options.filter((function(n){return n.requiredOptionId===t.id}));i.length&&(t.childOptions=i)}))}function o(n){n.options.forEach((function(n){return e(n)}))}function e(n){n.isOptional||(n.values=[],n.childOptions&&n.childOptions.forEach((function(n){return e(n)})))}exports.initIkasProductOptionSet=function(e,r){e.options.forEach((function(n){n.productOptionSetId=e.id,t.initIkasProductOption(n)})),e.translations&&r&&(!function(t,i,o){var e;if(i&&i.some((function(n){return n.locale===o}))){var r=i.find((function(n){return n.locale===o}));null===(e=null==r?void 0:r.options)||void 0===e||e.forEach((function(i){var o,e=t.options.find((function(n){return n.id===i.id}));e&&(e.name=i.name||e.name,e.optionalText=i.optionalText||e.optionalText,e.type===n.IkasProductOptionType.CHOICE&&(null===(o=i.values)||void 0===o||o.forEach((function(n){var t,i=null===(t=e.selectSettings)||void 0===t?void 0:t.values.find((function(t){return t.id===n.id}));i&&(i.value=n.value||i.value)}))))}))}}(e,e.translations,r),delete e.translations),i(e),o(e)},exports.initOptionValues=o,exports.initValues=e,exports.setChildOptions=i;
