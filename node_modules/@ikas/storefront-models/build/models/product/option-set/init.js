import{IkasProductOptionType as n}from"./option/index.js";import{initIkasProductOption as o}from"./option/init.js";function i(i,e){i.options.forEach((function(n){n.productOptionSetId=i.id,o(n)})),i.translations&&e&&(!function(o,i,t){var r;if(i&&i.some((function(n){return n.locale===t}))){var e=i.find((function(n){return n.locale===t}));null===(r=null==e?void 0:e.options)||void 0===r||r.forEach((function(i){var t,r=o.options.find((function(n){return n.id===i.id}));r&&(r.name=i.name||r.name,r.optionalText=i.optionalText||r.optionalText,r.type===n.CHOICE&&(null===(t=i.values)||void 0===t||t.forEach((function(n){var o,i=null===(o=r.selectSettings)||void 0===o?void 0:o.values.find((function(o){return o.id===n.id}));i&&(i.value=n.value||i.value)}))))}))}}(i,i.translations,e),delete i.translations),t(i),r(i)}function t(n){n.options.forEach((function(o){var i=n.options.filter((function(n){return n.requiredOptionId===o.id}));i.length&&(o.childOptions=i)}))}function r(n){n.options.forEach((function(n){return e(n)}))}function e(n){n.isOptional||(n.values=[],n.childOptions&&n.childOptions.forEach((function(n){return e(n)})))}export{i as initIkasProductOptionSet,r as initOptionValues,e as initValues,t as setChildOptions};
