import{__awaiter as e,__generator as t}from'./../../../../ext/tslib/tslib.es6.js';import*as r from"react";import{observer as n}from"mobx-react-lite";import{useStripe as o,useElements as a,PaymentElement as i}from"@stripe/react-stripe-js";import m from"./style.module.scss.js";var s=n((function(n){var s=n.callbackUrl,l=n.vm,c=o(),u=a(),d=r.useState(!0),f=d[0],p=d[1];return r.createElement(r.Fragment,null,r.createElement("form",{className:m.Form,id:"stripe-form",onSubmit:function(r){return e(void 0,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return r.preventDefault(),c&&u&&s?(p(!0),[4,c.confirmPayment({elements:u,confirmParams:{return_url:s}})]):[2];case 1:return e.sent().error&&(l.isStepLoading=!1,p(!1)),[2]}}))}))}},r.createElement(i,{onReady:function(){return p(!1)}}),r.createElement("button",{id:"stripe-form-btn",hidden:!0,disabled:!c}),f&&r.createElement("div",{className:m.Disabled},r.createElement("div",{className:m.loader}))))}));export{s as CheckoutForm};
