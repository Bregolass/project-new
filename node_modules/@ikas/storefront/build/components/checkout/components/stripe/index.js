import{__awaiter as o,__generator as r}from'./../../../../ext/tslib/tslib.es6.js';import*as e from"react";import{observer as t}from"mobx-react-lite";import{Elements as i}from"@stripe/react-stripe-js";import{loadStripe as n}from"@stripe/stripe-js";import{CheckoutForm as s}from"./checkout-form.js";var l=t((function(t){var l,a,p,c,u,d,m,v,b,f=t.vm;if(!f.stripeResponse)return null;var x=e.useState(null),E=x[0],z=x[1];e.useEffect((function(){!function(){o(this,void 0,void 0,(function(){var o;return r(this,(function(r){switch(r.label){case 0:return f.stripeResponse?[4,n(f.stripeResponse.apiKey,{stripeAccount:f.stripeResponse.accountId})]:[3,2];case 1:o=r.sent(),z(o),r.label=2;case 2:return[2]}}))}))}()}),[f.stripeResponse]);var C={clientSecret:f.stripeResponse.clientSecret,appearance:{variables:{borderRadius:"8px"},labels:"floating",rules:{".Input":{lineHeight:"16px",boxShadow:"0 0 0 1px transparent",transition:"padding .1s, border-color .5s, box-shadow .5s",padding:"8px 16px",border:"1px solid ".concat((null===(l=f.customizationProps)||void 0===l?void 0:l.borderColor)||"#E5E4E9")},".Input::placeholder":{fontSize:"14px",color:(null===(a=f.customizationProps)||void 0===a?void 0:a.secondaryTextColor)||"#8A8B94"},".Input:focus":{boxShadow:"0 0 0 1px ".concat((null===(p=f.customizationProps)||void 0===p?void 0:p.buttonBgColor)||"##272727"),borderColor:(null===(c=f.customizationProps)||void 0===c?void 0:c.buttonBgColor)||"##272727"},".Input--invalid":{boxShadow:"0 0 0 1px ".concat((null===(u=f.customizationProps)||void 0===u?void 0:u.errorColor)||"#FB4E4E"),borderColor:(null===(d=f.customizationProps)||void 0===d?void 0:d.errorColor)||"#FB4E4E",color:(null===(m=f.customizationProps)||void 0===m?void 0:m.errorColor)||"#FB4E4E"},".Label":{fontSize:"14px",color:(null===(v=f.customizationProps)||void 0===v?void 0:v.secondaryTextColor)||"#8A8B94"},".Error":{fontSize:"12px",marginTop:"8px",color:(null===(b=f.customizationProps)||void 0===b?void 0:b.errorColor)||"#FB4E4E"}}}};return e.createElement(e.Fragment,null,e.createElement(i,{stripe:E,options:C},e.createElement(s,{callbackUrl:f.stripeResponse.callbackUrl,vm:f})))}));export{l as default};
