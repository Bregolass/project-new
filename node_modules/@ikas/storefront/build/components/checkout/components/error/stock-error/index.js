import{__awaiter as e,__generator as t}from'./../../../../../ext/tslib/tslib.es6.js';import*as r from"react";import{observer as o}from"mobx-react-lite";import i from"../../notification-box/index.js";import{CartItem as n}from"../../cart-summary/cart-item/index.js";import c from"./style.module.scss.js";import{Button as a}from"../../button/index.js";import"@ikas/storefront-config";import{useTranslation as s}from"../../../../../utils/i18n.js";var m=o((function(o){var m=o.vm,l=o.error,u=s().t,d=r.useState(!1),p=d[0],f=d[1],v=l.data,k=r.useCallback((function(){return e(void 0,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return f(!0),[4,m.removeUnavailableItems(v)];case 1:return e.sent(),window.location.reload(),[2]}}))}))}),[m]);return r.createElement(i,{type:"warning",title:u("checkout-page:errorStockTitle"),content:r.createElement("div",null,r.createElement("div",{className:c.Description},u("checkout-page:errorStockDescription")),v.map((function(e,t){var o;return r.createElement("div",{key:t},r.createElement(n,{vm:m,cartItem:e.item,currencyCode:(null===(o=m.checkout)||void 0===o?void 0:o.currencyCode)||"",stockErrorItem:e}))})),r.createElement("div",{className:c.Actions},r.createElement(a,{style:{width:"100%"},text:u("checkout-page:actions.backToCart"),isLine:!0,isDisabled:p,onClick:m.onGoToCartClick}),r.createElement(a,{style:{width:"100%"},text:u("checkout-page:actions.updateCart"),isLoading:p,onClick:k})))})}));export{m as StockError};
