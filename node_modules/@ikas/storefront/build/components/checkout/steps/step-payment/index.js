import*as e from"react";import{observer as t}from"mobx-react-lite";import{IkasStorefrontConfig as o}from"@ikas/storefront-config";import{Checkbox as i}from"../../components/checkbox/index.js";import n from"../../components/error/index.js";import{PaymentGateways as a}from"./payment-gateways/index.js";import{BillingAddress as r}from"./billing-address/index.js";import{Button as c}from"../../components/button/index.js";import s from"../../components/master-pass/link-card-to-client/index.js";import{createTranslationInputData as l,useTranslation as m}from"../../../../utils/i18n.js";import p from"../../components/svg/lock.js";import d from"./style.module.scss.js";import{PayPal as y}from"../../components/paypal/index.js";var k=t((function(t){var k=t.vm,u=m().t,v=e.useCallback((function(e){e.stopPropagation(),k.policyModalTitle=u("checkout-page:privacyPolicy"),k.policyModalText=k.privacyPolicy}),[k,k.privacyPolicy]),f=e.useCallback((function(e){e.stopPropagation(),k.policyModalTitle=u("checkout-page:termsOfService"),k.policyModalText=k.termsOfService}),[k,k.termsOfService]),g=o.getTranslations()["checkout-page"],C=l(g.ackPoliciesSentence).map((function(t){return t.isVariable?e.createElement("span",{className:[d.TermsLabelSpan,k.isErrorsVisible&&!k.isTermsAndConditionsChecked?d.Error:""].join(" "),onClick:"{{ ackPrivacyPolicy }}"===t.value?v:f},"{{ ackPrivacyPolicy }}"===t.value?u("checkout-page:ackPrivacyPolicy"):u("checkout-page:ackTermsOfService")):t.value}));return e.createElement("div",{className:[d.StepPayment].join(" ")},e.createElement(n,{vm:k}),k.mpVM.isLinkCardToClientVisible&&e.createElement(s,{vm:k}),e.createElement(a,{vm:k}),e.createElement(r,{vm:k}),k.checkoutSettings.showTermsAndConditionsCheckbox&&e.createElement("div",{style:{marginTop:k.useDifferentAddress?"12px":"0px"}},e.createElement(i,{value:k.isTermsAndConditionsChecked,hasError:k.isErrorsVisible&&!k.isTermsAndConditionsChecked,label:e.createElement(e.Fragment,null,C),onChange:k.onTermsAndConditionsCheckedChange})),k.isPayPal?e.createElement("div",{className:d.PayPalContainer},e.createElement(y,{vm:k})):e.createElement(c,{style:{width:"100%",marginTop:"24px"},text:u("checkout-page:actions.completeOrder"),isLoading:k.isStepLoading,onClick:k.isDigitalOnly?k.onCompleteDigitalOnlyPaymentClick:k.onCompletePaymentClick}),!!u("checkout-page:securePaymentTooltip")&&e.createElement("div",{className:d.SecurePaymentContainer},e.createElement("span",{className:d.Lock},e.createElement(p,null)),e.createElement("span",null,u("checkout-page:securePaymentTooltip"))))}));export{k as CheckoutStepPayment};
