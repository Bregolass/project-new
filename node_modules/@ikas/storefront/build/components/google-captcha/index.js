import{__awaiter as e,__generator as t}from'./../../ext/tslib/tslib.es6.js';import*as a from"react";import{observer as r}from"mobx-react-lite";import{IkasBaseStore as c}from"../../store/base.js";import"../../store/customer/index.js";import"../../store/cart/index.js";var o=r((function(r){return a.useEffect((function(){window.captchaOnLoad=function(e){c.getInstance().customerStore.setCaptchaToken(e)}}),[]),a.useEffect((function(){try{var a=document.createElement("script");a.src="https://www.google.com/recaptcha/api.js?render=6LcBVyAhAAAAAPqU6pwhCXm26KgqYAdLrwYAVjZ2",a.className="googleRecaptchaScript",a.async=!0,document.body.appendChild(a);var r=document.getElementsByClassName("grecaptcha-badge");e(void 0,void 0,void 0,(function(){return t(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){var t=setInterval((function(){if(r&&r.length>1){clearInterval(t);for(var a=0;a<r.length;a++){var c=r[a].getAttribute("style");c&&(c=c.concat("opacity: 0; visibility: hidden !important;")),r[a].setAttribute("style","".concat(c))}e(null)}else r=document.getElementsByClassName("grecaptcha-badge")}),100)}))];case 1:return[2,e.sent()]}}))}))}catch(e){console.log("Captcha Error",e)}}),[]),a.useEffect((function(){return function(){var e,t;try{var a=document.getElementsByClassName("grecaptcha-badge");if(a&&a.length)for(var r=0;r<a.length;r++)null===(e=a[r].parentNode)||void 0===e||e.removeChild(a[r]);var c=document.getElementsByClassName("googleRecaptchaScript");if(c&&c.length)for(r=0;r<c.length;r++)null===(t=c[r].parentNode)||void 0===t||t.removeChild(c[r])}catch(e){console.log("Captcha Remove Error",e)}}}),[]),a.createElement("div",{id:"recaptcha",className:"g-recaptcha","data-sitekey":"6LcBVyAhAAAAAPqU6pwhCXm26KgqYAdLrwYAVjZ2","data-callback":"captchaOnLoad","data-size":"invisible"})}));export{o as GoogleCaptcha};
