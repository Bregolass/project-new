import"../ext/@redtea/format-axios-error/index.mjs.js";var r,e;(e=r||(r={})).ARGUMENT_VALIDATION_ERROR="ARGUMENT_VALIDATION_ERROR",e.UNAUTHENTICATED="UNAUTHENTICATED",e.UNAUTHORIZED="UNAUTHORIZED",e.INTERNAL_SERVER_ERROR="INTERNAL_SERVER_ERROR",e.LOGIN_REQUIRED="LOGIN_REQUIRED",e.NETWORK_ERROR="NETWORK_ERROR",e.DUPLICATE_KEY_ERROR="DUPLICATE_KEY_ERROR",e.UNKNOWN="UNKNOWN";var o=function(){function e(e,o){this.errors=[],this.errorCodes=[];var n=[],t=[];null==o||o.forEach((function(e){var o;(null===(o=e.extensions)||void 0===o?void 0:o.code)?(n.push(e.message),t.push(e.extensions.code)):(n.push("Unknown error"),t.push(r.UNKNOWN))})),this.graphQLErrors=o,this.errors=n,this.errorCodes=t,this.data=e}return Object.defineProperty(e.prototype,"firstErrorMessage",{get:function(){return this.errors.length?this.errors[0]:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUnAuthenticated",{get:function(){return this.errorCodes.some((function(e){return e===r.UNAUTHENTICATED}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNetworkError",{get:function(){return this.errorCodes.some((function(e){return e===r.NETWORK_ERROR}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSuccess",{get:function(){return 0===this.errorCodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRecoverableError",{get:function(){var e=[r.UNAUTHENTICATED,r.INTERNAL_SERVER_ERROR,r.NETWORK_ERROR];return this.errorCodes.every((function(r){return e.includes(r)}))},enumerable:!1,configurable:!0}),e.networkError=function(){var o=new e;return o.errors.push("Network error!"),o.errorCodes.push(r.NETWORK_ERROR),o},e.unknownError=function(){var o=new e;return o.errors.push("Unknown error!"),o.errorCodes.push(r.UNKNOWN),o},e.authError=function(){var o=new e;return o.errors.push("Authentication error!"),o.errorCodes.push(r.UNAUTHENTICATED),o},e.success=function(){return new e},e}();export{r as APIErrorCode,o as APIResponse};
