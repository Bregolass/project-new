import e from"../utils.js";import a from"./transformData.js";import{__require as r}from"../cancel/isCancel.js";import t from"../defaults/index.js";import{__require as s}from"../cancel/Cancel.js";var n=e,o=a,d=r(),c=t,m=s();function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new m("canceled")}var f=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(a){delete e.headers[a]})),(e.adapter||c.adapter)(e).then((function(a){return l(e),a.data=o.call(e,a.data,a.headers,e.transformResponse),a}),(function(a){return d(a)||(l(e),a&&a.response&&(a.response.data=o.call(e,a.response.data,a.response.headers,e.transformResponse))),Promise.reject(a)}))};export{f as default};
