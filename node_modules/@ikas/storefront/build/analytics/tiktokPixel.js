import{makeAutoObservable as t}from"mobx";import{IkasBaseStore as n}from"../store/base.js";import"../store/customer/index.js";import"../store/cart/index.js";var r="undefined"==typeof window,e=function(){function n(){t(this)}return n.productView=function(t){try{return o(),void(!r&&window.ttq&&window.ttq.track("ViewContent",function(t,n){void 0===n&&(n=1);return{content_type:"product",quantity:n,content_id:t.selectedVariant.id,value:t.selectedVariant.price.finalPrice,currency:""===t.selectedVariant.price.currency?"TRY":t.selectedVariant.price.currency}}(t)))}catch(t){console.error(t)}},n.addToCart=function(t,n){try{return o(),void(!r&&window.ttq&&window.ttq.track("AddToCart",function(t,n){void 0===n&&(n=1);return{content_id:t.variant.id,content_type:"product",content_name:t.variant.name,quantity:n,value:t.finalPrice,currency:t.currencyCode}}(t,n)))}catch(t){console.error(t)}},n.beginCheckout=function(){try{return o(),void(!r&&window.ttq&&window.ttq.track("InitiateCheckout"))}catch(t){console.error(t)}},n.purchase=function(t){try{return o(),void(!r&&window.ttq&&window.ttq.track("CompletePayment",function(t){var n=[];return null==t||t.items.map((function(t){n.push({content_id:t.variant.id,content_type:"product",content_name:t.variant.name,price:t.finalPrice,quantity:t.quantity})})),{contents:n,content_type:"product_group",currency:t.items[0].currencyCode,value:t.totalPrice}}(t)))}catch(t){console.error(t)}},n.addToWishlist=function(t){try{return o(),void(!r&&window.ttq&&window.ttq.track("AddToWishlist",{content_id:t}))}catch(t){console.error(t)}},n.search=function(t){try{return o(),void(!r&&window.ttq&&window.ttq.track("Search",{query:t,content_id:"Search"}))}catch(t){console.error(t)}},n.completeRegistration=function(){try{return o(),void(!r&&window.ttq&&window.ttq.track("CompleteRegistration"))}catch(t){console.error(t)}},n.viewCategory=function(t){try{return o(),void(!r&&window.ttq&&window.ttq.track("ViewContent",{content_id:t.id,content_type:"product_group",content_category:t.name}))}catch(t){console.error(t)}},n.contactForm=function(){try{return o(),void(!r&&window.ttq&&window.ttq.track("Contact"))}catch(t){console.error(t)}},n}();function o(){try{var t=n.getInstance().customerStore.customer;if(!t)return;return void(!r&&window.ttq&&window.ttq.identify({external_id:t.id,email:t.email,phone_number:t.phone||""}))}catch(t){console.error(t)}}export{e as TiktokPixel};
