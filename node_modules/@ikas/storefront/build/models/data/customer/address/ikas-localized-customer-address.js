import{__extends as t,__assign as e}from'./../../../../ext/tslib/tslib.es6.js';import{makeObservable as i,observable as r}from"mobx";import{IkasCustomerAddress as n}from"./index.js";import{IkasCheckoutRequirement as s}from"@ikas/storefront-models";import{AddressFormItem as o}from"@ikas/localized-address";var u=function(n){function u(t){void 0===t&&(t={});var e=n.call(this,t)||this;return e.countrySettings=t.countrySettings||null,i(e,{countrySettings:r}),e}return t(u,n),Object.defineProperty(u.prototype,"fieldSettings",{get:function(){if(this.countrySettings){var t=this.countrySettings.getFieldSettings({country:this.countryCode,invisibleAddressFields:this.invisibleFields,customAddressFormSettings:this.customAddressFormSettings});if(t)return e({title:{required:!0}},t)}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"addressFormat",{get:function(){if(this.countrySettings)return this.countrySettings.getAddressFormat(this.countryCode,this.invisibleFields)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"addressFormatIgnoreCountry",{get:function(){if(this.countrySettings)return this.countrySettings.getAddressFormatIgnoreCountry(this.countryCode,this.invisibleFields)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"billingFormat",{get:function(){if(this.countrySettings)return this.countrySettings.getBillingFormat(this.countryCode)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"countryCode",{get:function(){var t;return(null===(t=this.country)||void 0===t?void 0:t.iso2)||"TR"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"validationResults",{get:function(){if(this.countrySettings){var t=this.countrySettings.getValidationResult({address:d(this),country:this.countryCode,invisibleAddressFields:this.invisibleFields,customAddressFormSettings:this.customAddressFormSettings});if(t)return e({title:{hasError:!this.title,isInvalid:!1,isEmpty:!this.title}},t)}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isValidAddress",{get:function(){if(this.countrySettings)return!!this.title&&this.countrySettings.isValidAddress({address:d(this),country:this.countryCode,invisibleAddressFields:this.invisibleFields,customAddressFormSettings:this.customAddressFormSettings})},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fieldLabels",{get:function(){if(this.countrySettings)return this.countrySettings.getFieldLabels(this.countryCode)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isFreeTextCity",{get:function(){if(this.countrySettings)return this.countrySettings.isFreeTextCity(this.countryCode)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isFreeTextDistrict",{get:function(){if(this.countrySettings)return this.countrySettings.isFreeTextDistrict(this.countryCode)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"invisibleFields",{get:function(){if(this.checkoutSettings){var t=[];return this.checkoutSettings.identityNumberRequirement===s.INVISIBLE&&t.push(o.IDENTITY_NUMBER),this.checkoutSettings.postalCodeRequirement===s.INVISIBLE&&t.push(o.POSTAL_CODE),this.checkoutSettings.phoneRequirement===s.INVISIBLE&&t.push(o.PHONE),t}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"customAddressFormSettings",{get:function(){if(this.checkoutSettings){var t={};return this.checkoutSettings.phoneRequirement&&(t.phone={required:this.checkoutSettings.phoneRequirement===s.MANDATORY}),this.checkoutSettings.postalCodeRequirement&&(t.postalCode={required:this.checkoutSettings.postalCodeRequirement===s.MANDATORY}),this.checkoutSettings.identityNumberRequirement&&(t.identityNumber={required:this.checkoutSettings.identityNumberRequirement===s.MANDATORY}),t}},enumerable:!1,configurable:!0}),u}(n),d=function(t){var e,i,r,n;return{firstName:t.firstName||"",lastName:t.lastName||"",identityNumber:t.identityNumber||"",addressLine1:t.addressLine1||"",addressLine2:t.addressLine2||"",postalCode:t.postalCode||"",country:(null===(e=t.country)||void 0===e?void 0:e.name)||"",state:(null===(i=t.state)||void 0===i?void 0:i.name)||"",city:(null===(r=t.city)||void 0===r?void 0:r.name)||"",district:(null===(n=t.district)||void 0===n?void 0:n.name)||"",phone:t.phone||"",company:t.company||"",taxOffice:t.taxOffice||"",taxNumber:t.taxNumber||""}};export{u as IkasLocalizedCustomerAddress};
