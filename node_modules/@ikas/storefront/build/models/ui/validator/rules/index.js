import{__extends as e,__awaiter as t,__generator as r}from'./../../../../ext/tslib/tslib.es6.js';import{reaction as n,makeObservable as i,computed as s}from"mobx";import u from"lodash/get";var o;!function(e){e.REQUIRED_RULE="REQUIRED_RULE",e.EMAIl_RULE="EMAIl_RULE",e.MIN_RULE="MIN_RULE"}(o||(o={}));var a=function(){function e(e){var t=this;this.model=e.model,this.valuePath=e.valuePath,this.fieldKey=e.fieldKey,this.fieldName=e.fieldName,this.onValueChange=e.onValueChange,this.message=e.message,this.errorType=e.errorType,this.disposer=n((function(){return t.value}),(function(){return t.onValueChange&&t.onValueChange(t)}))}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue(this.valuePath)},enumerable:!1,configurable:!0}),e.prototype.getValue=function(e){return"string"==typeof e?u(this.model,e):e(this.model)},e}(),h=function(n){function i(e){var t=n.call(this,e)||this;return t.errorType=o.MIN_RULE,t.minValue=e.minValue,t}return e(i,n),Object.defineProperty(i.prototype,"errorMessage",{get:function(){return this.message?"string"==typeof this.message?this.message:this.message(this.model):""},enumerable:!1,configurable:!0}),i.prototype.run=function(){return t(this,void 0,void 0,(function(){return r(this,(function(e){return"string"==typeof this.value?[2,this.value.length>=this.minValue]:[2,this.value>=this.minValue]}))}))},i}(a),l=function(n){function i(e){var t=n.call(this,e)||this;return t.maxValue=e.maxValue,t}return e(i,n),Object.defineProperty(i.prototype,"errorMessage",{get:function(){return this.message?"string"==typeof this.message?this.message:this.message(this.model):""},enumerable:!1,configurable:!0}),i.prototype.run=function(){return t(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.value<=this.maxValue]}))}))},i}(a),f=function(n){function i(e){var t=n.call(this,e)||this;return t.errorType=o.REQUIRED_RULE,t}return e(i,n),Object.defineProperty(i.prototype,"errorMessage",{get:function(){return this.message?"string"==typeof this.message?this.message:this.message(this.model):""},enumerable:!1,configurable:!0}),i.prototype.run=function(){return t(this,void 0,void 0,(function(){return r(this,(function(e){return"string"==typeof this.value?[2,!!this.value.trim()]:Array.isArray(this.value)?[2,!!this.value.length]:[2,void 0!==this.value&&null!==this.value]}))}))},i}(a),g=function(n){function i(e){var t=n.call(this,e)||this;return t.otherFieldName=e.otherFieldName,t.otherFieldValuePath=e.otherFieldValuePath,t}return e(i,n),Object.defineProperty(i.prototype,"otherValue",{get:function(){return this.getValue(this.otherFieldValuePath)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"errorMessage",{get:function(){return this.message?"string"==typeof this.message?this.message:this.message(this.model):""},enumerable:!1,configurable:!0}),i.prototype.run=function(){return t(this,void 0,void 0,(function(){return r(this,(function(e){return void 0===this.value||null==this.value||null===this.otherValue||void 0===this.otherValue?[2,!0]:[2,this.value<this.otherValue]}))}))},i}(a),p=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.errorType=o.EMAIl_RULE,e}return e(i,n),Object.defineProperty(i.prototype,"errorMessage",{get:function(){return this.message?"string"==typeof this.message?this.message:this.message(this.model):""},enumerable:!1,configurable:!0}),i.prototype.run=function(){return t(this,void 0,void 0,(function(){return r(this,(function(e){return[2,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value)]}))}))},i}(a),c=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"errorMessage",{get:function(){return this.message?"string"==typeof this.message?this.message:this.message(this.model):""},enumerable:!1,configurable:!0}),i.prototype.run=function(){return t(this,void 0,void 0,(function(){return r(this,(function(e){return this.value?[2,!!this.value.match(/^[\+\d](\d+\s)*\d+$/g)]:[2,!0]}))}))},i}(a),m=function(n){function u(e){var t=n.call(this,e)||this;return i(t,{equalsValue:s}),t.equalsValuePath=e.equalsValuePath,t}return e(u,n),Object.defineProperty(u.prototype,"equalsValue",{get:function(){return this.getValue(this.equalsValuePath)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"errorMessage",{get:function(){return this.message?"string"==typeof this.message?this.message:this.message(this.model):""},enumerable:!1,configurable:!0}),u.prototype.run=function(){return t(this,void 0,void 0,(function(){return r(this,(function(e){return[2,this.value===this.equalsValue]}))}))},u}(a),d=function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return e(i,n),Object.defineProperty(i.prototype,"errorMessage",{get:function(){return this.message?"string"==typeof this.message?this.message:this.message(this.model):""},enumerable:!1,configurable:!0}),i.prototype.run=function(){return t(this,void 0,void 0,(function(){var e,t,n,i,s,u,o;return r(this,(function(r){if(!(e=this.value))return[2,!1];if(t=e.toString(),n=0,0,0,s=0,u=[11111111110,22222222220,33333333330,44444444440,55555555550,66666666660,7777777770,88888888880,99999999990],11!==t.length)return[2,!1];if(isNaN(e))return[2,!1];if("0"===t[0])return[2,!1];if(n=parseInt(t[0])+parseInt(t[2])+parseInt(t[4])+parseInt(t[6])+parseInt(t[8]),i=parseInt(t[1])+parseInt(t[3])+parseInt(t[5])+parseInt(t[7]),n*=7,Math.abs(n-i)%10!==parseInt(t[9]))return[2,!1];for(o=0;o<10;o++)s+=parseInt(t[o]);return s%10!==parseInt(t[10])||-1!==u.toString().indexOf(t)?[2,!1]:[2,!0]}))}))},i}(a);export{p as EmailRule,m as EqualsRule,d as IdentityNumberRule,g as LessThanRule,l as MaxRule,h as MinRule,c as PhoneRule,f as RequiredRule,a as ValidationRule,o as ValidatorErrorType};
