import{__awaiter as e,__generator as r}from'./../../ext/tslib/tslib.es6.js';import{listStorefrontRaffle as a}from"@ikas/storefront-api";import{populateRaffleProducts as l}from"../helpers/raffle.js";import{getPlaceholderRaffle as t}from"../placeholders.js";var o=function(){function o(e){this.rafflePropValue=e}return o.prototype.getValue=function(){var o,f,i;return e(this,void 0,void 0,(function(){var e,s;return r(this,(function(r){switch(r.label){case 0:return(null===(o=this.rafflePropValue)||void 0===o?void 0:o.usePageData)?[2,{raffle:null,rafflePropValue:this.rafflePropValue}]:this.rafflePropValue.raffleId?[4,a({id:{eq:this.rafflePropValue.raffleId}})]:[2,null];case 1:return(e=r.sent()).isSuccess&&(null===(i=null===(f=e.data)||void 0===f?void 0:f.data)||void 0===i?void 0:i.length)?(s=e.data.data[0],[4,l([s])]):[2,null];case 2:return r.sent(),[2,{raffle:s||t(),rafflePropValue:this.rafflePropValue}]}}))}))},o}();export{o as IkasRafflePropValueProvider};
