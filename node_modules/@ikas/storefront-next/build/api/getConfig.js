import{__awaiter as r,__generator as t}from'./../ext/tslib/tslib.es6.js';import e from"fs";import o from"path";import{corsMiddleware as n}from"./middleware.js";var s=function(e,o){return r(void 0,void 0,void 0,(function(){var r,s;return t(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,n(e,o)];case 1:return t.sent(),[4,a()];case 2:return r=t.sent(),o.statusCode=200,o.setHeader("Content-Type","application/json"),o.json((null==r?void 0:r.storefrontId)?{storefrontId:r.storefrontId}:{}),[3,4];case 3:return s=t.sent(),console.error(s),o.statusCode=500,o.send(s),[3,4];case 4:return[2]}}))}))},i={},a=function(){try{var r=o.join(process.cwd(),"config.json"),t=e.readFileSync(r);return t.length?JSON.parse(t.toString()):null}catch(r){console.error(r)}};export{i as config,s as getConfig};
